const extend = require('extend');

exports.init = () => {

    global.CONFIG = {};

    if (undefined === process.env.CONFIG_PATH){ return console.log("Missing ENV var CONFIG_PATH"); }
    if (undefined === process.env.NODE_ENV){    return console.log("Missing ENV var NODE_ENV"); }

    let config = {}

    try {
    	
	   	config = require(process.env.CONFIG_PATH)[process.env.NODE_ENV] || {};
	    config.server.host = process.env.HOST || config.server.host;

    	config.server.verbose = config.server.verbose || true;

	} catch(e) {
    	console.log("no project config file found");
	}


    extend(true, CONFIG, config);

};